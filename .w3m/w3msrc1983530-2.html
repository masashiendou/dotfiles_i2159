<!DOCTYPE html>
<html lang="en">
<title>Python f-string  - formatting strings in Python with f-string</title>
<head>
<link rel="stylesheet" href="/cfg/style.css" type="text/css">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="Python, format string, f-string">
<meta name="description" content="Python f-string tutorial shows how to format
strings in Python with f-string. Python f-strings provide a faster, more
readable, concise, and less error prone way of formatting strings in Python.">
<meta name="author" content="Jan Bodnar">



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5536206-1', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body>

<header>

<div>
<a href="/" title="Home">ZetCode</a>
</div>

<nav>
    <a title="All tutorials" href="/all/">All</a>
    <a title="Spring Boot tutorials" href="/all/#springboot">Spring Boot</a>
    <a title="Python tutorials" href="/all/#python">Python</a>
    <a title="C# tutorials" href="/all/#csharp">C#</a>
    <a title="Java tutorials" href="/all/#java">Java</a>
    <a title="JavaScript tutorials" href="/all/#js">JavaScript</a>
    <a title="Subscribe to ZetCode news" href="http://zetcode.us13.list-manage.com/subscribe?u=9def9ccd4c70dbbaf691f90fc&id=6556210f80">Subscribe</a>
</nav>

</header>

<div class="container">

<div class="ltow">
    
<div id="ebooks">

<h2 class="blu">Ebooks</h2>

<ul>
<li><a href="/ebooks/advancedpyqt5/">PyQt5 ebook</a></li>
<li><a href="/ebooks/tkinter/">Tkinter ebook</a></li>
<li><a href="/ebooks/sqlitepython/">SQLite Python</a></li>
<li><a href="/ebooks/advancedwxpython/">wxPython ebook</a></li>
<li><a href="/ebooks/windowsapi/">Windows API ebook</a></li>
<li><a href="/ebooks/advancedjavaswing/">Java Swing ebook</a></li>
<li><a href="/ebooks/javagames/">Java games ebook</a></li>
<li><a href="/ebooks/mysqljava/">MySQL Java ebook</a></li>
</ul>

</div>

</div>


<div class="content">

<h1>Python f-string</h1>

<p class="last_mod">
last modified July 6, 2020 
</p>

<p>
Python f-string tutorial shows how to format strings in Python with f-string.
</p>




<h2>Python f-string</h2>

<p>
Python f-string is the newest Python syntax to do string formatting. It is available
since Python 3.6. Python f-strings provide a faster, more readable, more concise, and
less error prone way of formatting strings in Python.
</p>

<p>
The f-strings have the <code>f</code> prefix and use <code>{}</code> brackets
to evaluate values.
</p>

<div class="ad-top hor-fix-ad">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- horizontal-fixed-2020 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-9706709751191532"
     data-ad-slot="2550114901"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<p>
Format specifiers for types, padding, or aligning are specified after the
colon character; for instance: <code>f'{price:.3}'</code>, where <code>price</code>
is a variable name.
</p>

<h2>Python string formatting</h2>

<p>
The following example summarizes string formatting options in Python.
</p>

<div class="codehead">formatting_strings.py</div>
<pre class="code">
#!/usr/bin/env python3

name = 'Peter'
age = 23

print('%s is %d years old' % (name, age))
print('{} is {} years old'.format(name, age))
print(f'{name} is {age} years old')
</pre>

<p>
The example formats a string using two variables.
</p>

<pre class="explanation">
print('%s is %d years old' % (name, age))
</pre>

<p>
This is the oldest option. It uses the <code>%</code> operator
and classic string format specifies such as <code>%s</code> and <code>%d</code>.
</p>

<pre class="explanation">
print('{} is {} years old'.format(name, age))
</pre>

<p>
Since Python 3.0, the <code>format()</code> function was introduced to provide
advance formatting options.
</p>

<pre class="explanation">
print(f'{name} is {age} years old')
</pre>

<p>
Python f-strings are available since Python 3.6. The string has the <code>f</code>
prefix and uses <code>{}</code> to evaluate variables.
</p>

<pre class="compact">
$ python formatting_string.py
Peter is 23 years old
Peter is 23 years old
Peter is 23 years old
</pre>

<p>
We have the same output.
</p>

<h2>Python f-string expressions</h2>

<p>
We can put expressions between the <code>{}</code> brackets.
</p>

<div class="codehead">expressions.py</div>
<pre class="code">
#!/usr/bin/env python3

bags = 3
apples_in_bag = 12

print(f'There are total of {bags * apples_in_bag} apples')
</pre>

<p>
The example evaluates an expression inside f-string.
</p>

<pre class="compact">
$ python expressions.py
There are total of 36 apples
</pre>

<p>
This is the output.
</p>

<h2>Python f-string dictionaries</h2>

<p>
We can work with dictionaries in f-strings.
</p>

<div class="codehead">dicts.py</div>
<pre class="code">
#!/usr/bin/env python3

user = {'name': 'John Doe', 'occupation': 'gardener'}

print(f"{user['name']} is a {user['occupation']}")
</pre>

<p>
The example evaluates a dictionary in an f-string.
</p>

<pre class="compact">
$ python dicts.py
John Doe is a gardener
</pre>

<p>
This is the output.
</p>


<h2>Python f-string debug</h2>

<p>
Python 3.8 introduced the self-documenting expression with the 
<code>=</code> character.
</p>

<div class="codehead">debug.py</div>
<pre class="code">
#!/usr/bin/env python3

import math

x = 0.8

print(f'{math.cos(x) = }')
print(f'{math.sin(x) = }')
</pre>

<p>
The example outputs the Sine and Cosine functions in the debug 
mode. 
</p>

<pre class="compact">
$ ./debug.py 
math.cos(x) = 0.6967067093471654
math.sin(x) = 0.7173560908995228
</pre>

<p>
This is the output.
</p>

<div class="ad-mid square-fix-ad">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- square-fixed-2020 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-9706709751191532"
     data-ad-slot="6775384732"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>


<h2>Python multiline f-string</h2>

<p>
We can work with multiline strings.
</p>

<div class="codehead">multiline.py</div>
<pre class="code">
#!/usr/bin/env python3

name = 'John Doe'
age = 32
occupation = 'gardener'

msg = (
    f'Name: {name}\n'
    f'Age: {age}\n'
    f'Occupation: {occupation}'
)

print(msg)
</pre>

<p>
The example presents a multiline f-string. The f-strings are placed
between round brackets; each of the strings is preceded with the <code>f</code>
character.
</p>

<pre class="compact">
$ python multiline.py
Name: John Doe
Age: 32
Occupation: gardener
</pre>

<p>
This is the output.
</p>

<h2>Python f-string calling function</h2>

<p>
We can also call functions in f-strings.
</p>

<div class="codehead">call_function.py</div>
<pre class="code">
#!/usr/bin/env python3

def mymax(x, y):

    return x if x > y else y

a = 3
b = 4

print(f'Max of {a} and {b} is {mymax(a, b)}')
</pre>

<p>
The example calls a custom function in the f-string.
</p>

<pre class="compact">
$ python call_fun.py
Max of 3 and 4 is 4
</pre>

<p>
This is the output.
</p>

<h2>Python f-string objects</h2>

<p>
Python f-string accepts objects as well; the objects must have either
<code>__str__()</code> or <code>__repr__()</code> magic functions defined.
</p>

<div class="codehead">objects.py</div>
<pre class="code">
#!/usr/bin/env python3

class User:
    def __init__(self, name, occupation):
        self.name = name
        self.occupation = occupation

    def __repr__(self):
        return f"{self.name} is a {self.occupation}"

u = User('John Doe', 'gardener')

print(f'{u}')
</pre>

<p>
The example evaluates an object in the f-string.
</p>

<pre class="compact">
$ python objects.py
John Doe is a gardener
</pre>

<p>
This is the output.
</p>

<h2>Python f-string escaping characters</h2>

<p>
The following example shows how to escape certain characters in f-strings.
</p>

<div class="codehead">escaping.py</div>
<pre class="code">
#!/usr/bin/env python3

print(f'Python uses {{}} to evaludate variables in f-strings')
print(f'This was a \'great\' film')
</pre>

<p>
To escape a curly bracket, we double the character. A single quote is
escaped with a backslash character.
</p>

<pre class="compact">
$ python escaping.py
Python uses {} to evaludate variables in f-strings
This was a 'great' film
</pre>

<p>
This is the output.
</p>

<h2>Python f-string format datetime</h2>

<p>
The following example formats datetime.
</p>

<div class="codehead">format_datetime.py</div>
<pre class="code">
#!/usr/bin/env python3

import datetime

now = datetime.datetime.now()

print(f'{now:%Y-%m-%d %H:%M}')
</pre>

<p>
The example displays a formatted current datetime. The datetime
format specifiers follow the <code>:</code> character.
</p>

<pre class="compact">
$ python format_datetime.py
2019-05-11 22:39
</pre>

<p>
This is the output.
</p>

<h2>Python f-string format floats</h2>

<p>
Floating point values have the <code>f</code> suffix. We can
also specify the precision: the number of decimal places.
The precision is a value that goes right after the dot character.
</p>

<div class="codehead">format_floats.py</div>
<pre class="code">
#!/usr/bin/env python3

val = 12.3

print(f'{val:.2f}')
print(f'{val:.5f}')
</pre>

<p>
The example prints a formatted floating point value.
</p>

<pre class="compact">
$ python format_floats.py
12.30
12.30000
</pre>

<p>
The output shows the number having two and five decimal places.
</p>


<h2>Python f-string format width</h2>

<p>
The width specifier sets the width of the value. The value may be
filled with spaces or other characters if the value is shorter than
the specified width.
</p>

<div class="codehead">format_width.py</div>
<pre class="code">
#!/usr/bin/env python3

for x in range(1, 11):
    print(f'{x:02} {x*x:3} {x*x*x:4}')
</pre>

<p>
The example prints three columns. Each of the columns has a predefined
width. The first column uses 0 to fill shorter values.
</p>

<pre class="compact">
$ python format_width.py
01   1    1
02   4    8
03   9   27
04  16   64
05  25  125
06  36  216
07  49  343
08  64  512
09  81  729
10 100 1000
</pre>

<p>
This is the output.
</p>

<h2>Python f-string justify string</h2>

<p>
By default, the strings are justified to the left. We can use the
<code>&gt;</code> character to justify the strings to the right. The
<code>&gt;</code> character follows the colon character.
</p>

<div class="codehead">justify.py</div>
<pre class="code">
#!/usr/bin/env python3

s1 = 'a'
s2 = 'ab'
s3 = 'abc'
s4 = 'abcd'

print(f'{s1:>10}')
print(f'{s2:>10}')
print(f'{s3:>10}')
print(f'{s4:>10}')
</pre>

<p>
We have four strings of different length. We set the width of 
the output to ten characters. The values are justified to the right.
</p>

<pre class="compact">
$ python justify.py
         a
        ab
       abc
      abcd
</pre>

<p>
This is the output.
</p>

<h2>Python f-string numeric notations</h2>

<p>
Numbers can have various numeric notations, such as decadic or hexadecimal.
</p>

<div class="codehead">format_notations.py</div>
<pre class="code">
#!/usr/bin/env python3

a = 300

# hexadecimal
print(f"{a:x}")

# octal
print(f"{a:o}")

# scientific
print(f"{a:e}")
</pre>

<p>
The example prints a value in three different notations.
</p>

<pre class="compact">
$ python format_notations.py
12c
454
3.000000e+02
</pre>

<p>
This is the output.
</p>

<p>
In this tutorial, we have worked with Python f-strings.
</p>

<!-- TODO other formatting options -->

<div class="ad-bot square-fix-ad">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- square-fixed-2020 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-9706709751191532"
     data-ad-slot="6775384732"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<p>
Visit <a href="/lang/python/">Python tutorial</a> or list <a href="/all/#python">all Python</a>
tutorials.
</p>



</div> <!-- content -->

<div class="rtow">

<div class="vert-ad">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- vertical-2020 -->
<ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-9706709751191532"
        data-ad-slot="5880603481"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
<script>
        (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div class="square-fix-ad">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- square-fixed-2020 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-9706709751191532"
     data-ad-slot="6775384732"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

</div>

</div> <!-- container -->

<footer>

<nav>
<a title="Home page" href="/">Home</a> 
<a title="Follow on Facebook" href="https://www.facebook.com/zetcode7/">Facebook</a>
<a title="Follow on Twitter" href="https://twitter.com/janbodnar">Twitter</a>
<a title="Visit Github" href="https://github.com/janbodnar">Github</a>
<a title="Subscribe to ZetCode news" href="http://zetcode.us13.list-manage.com/subscribe?u=9def9ccd4c70dbbaf691f90fc&id=6556210f80">Subscribe</a>
<a title="Privacy policy" href="/privacy">Privacy</a> 
</nav>

<div>
<span>&copy; 2007 - 2021 Jan Bodnar</span>
<span>admin(at)zetcode.com</span>
</div>

</footer>

</body>
</html>
